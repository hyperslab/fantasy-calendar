{% extends "fantasycalendar/base.html" %}

{% block title %}
Calendar Detail
{% endblock %}

{% block content %}
<h2><a href="{% url 'fantasycalendar:world-detail' calendar.world_id %}">{{ calendar.world.world_name }}</a> - {{ calendar.calendar_name }}</h2>
{% if calendar.timeunit_set %}
    <ul>
    {% for time_unit in calendar.timeunit_set.all %}
        {% if time_unit.is_bottom_level %}
        <li>{{ time_unit.time_unit_name }} - base calendar unit <a
                href="{% url 'fantasycalendar:time-unit-update' calendar.world_id calendar.id time_unit.id %}">(edit)</a></li>
        {% else %}
        <li>{{ time_unit.time_unit_name }} - {{ time_unit.get_number_of_base_display  }} {{ time_unit.base_unit.time_unit_name }}s long <a
                href="{% url 'fantasycalendar:time-unit-update' calendar.world_id calendar.id time_unit.id %}">(edit)</a></li>
        {% endif %}
    {% endfor %}
    </ul>
{% else %}
    <p>No time units have been created for this calendar.</p>
{% endif %}
    <p><a href="{% url 'fantasycalendar:time-unit-create' calendar.world_id calendar.id %}">Create a new time unit for this calendar!</a></p>
    <p><a href="{% url 'fantasycalendar:calendar-update' calendar.world_id calendar.id %}">Change the name of this calendar!</a></p>
{% endblock %}

{% block graphic %}
{% if calendar.timeunit_set %}
<h3>{{ display_unit.time_unit_name }} View</h3>
<form action="{% url 'fantasycalendar:calendar-detail' calendar.world_id calendar.id %}" method="get">
    <label for="display_unit_type">Change display level: </label>
    <select name="display_unit_type" id="display_unit_type">
    {% for time_unit in calendar.timeunit_set.all %}
        <option value="{{ time_unit.id }}" {% if time_unit.id == display_unit.id %}selected{% endif %}>{{ time_unit.time_unit_name }}</option>
    {% endfor %}
    </select>
    <input type="submit" value="Submit">
</form>
<div class="grid-container">
{% for square in display_amount %}
    <div class="grid-item">{{ display_base_name }} {{ square }}</div>
{% endfor %}
</div>
{% endif %}
{% endblock %}